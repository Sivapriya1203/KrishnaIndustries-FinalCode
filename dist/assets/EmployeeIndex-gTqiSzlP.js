import{r as s,c as y,d as k,j as a,G as d,a4 as g,a5 as S,h as f,F as V,a7 as F,X as I,Y as O,Z as Y,$ as Z,a0 as G,a1 as p,a2 as X,a8 as Q,S as aa,U as R,W as w,a3 as W,V as ea}from"./index-14iq4arv.js";import{S as ra}from"./Search-D10Vqw1G.js";import{P as ta}from"./Pagination-Drt3pWZO.js";const ia=[{state:"Andhra Pradesh",districts:["Anantapur","Chittoor","East Godavari","Guntur","Krishna","Kurnool","Nellore","Prakasam","Srikakulam","Visakhapatnam","Vizianagaram","West Godavari","YSR Kadapa"]},{state:"Arunachal Pradesh",districts:["Tawang","West Kameng","East Kameng","Papum Pare","Kurung Kumey","Kra Daadi","Lower Subansiri","Upper Subansiri","West Siang","East Siang","Siang","Upper Siang","Lower Siang","Lower Dibang Valley","Dibang Valley","Anjaw","Lohit","Namsai","Changlang","Tirap","Longding"]},{state:"Assam",districts:["Baksa","Barpeta","Biswanath","Bongaigaon","Cachar","Charaideo","Chirang","Darrang","Dhemaji","Dhubri","Dibrugarh","Goalpara","Golaghat","Hailakandi","Hojai","Jorhat","Kamrup Metropolitan","Kamrup","Karbi Anglong","Karimganj","Kokrajhar","Lakhimpur","Majuli","Morigaon","Nagaon","Nalbari","Dima Hasao","Sivasagar","Sonitpur","South Salmara-Mankachar","Tinsukia","Udalguri","West Karbi Anglong"]},{state:"Bihar",districts:["Araria","Arwal","Aurangabad","Banka","Begusarai","Bhagalpur","Bhojpur","Buxar","Darbhanga","East Champaran (Motihari)","Gaya","Gopalganj","Jamui","Jehanabad","Kaimur (Bhabua)","Katihar","Khagaria","Kishanganj","Lakhisarai","Madhepura","Madhubani","Munger (Monghyr)","Muzaffarpur","Nalanda","Nawada","Patna","Purnia (Purnea)","Rohtas","Saharsa","Samastipur","Saran","Sheikhpura","Sheohar","Sitamarhi","Siwan","Supaul","Vaishali","West Champaran"]},{state:"Chandigarh (UT)",districts:["Chandigarh"]},{state:"Chhattisgarh",districts:["Balod","Baloda Bazar","Balrampur","Bastar","Bemetara","Bijapur","Bilaspur","Dantewada (South Bastar)","Dhamtari","Durg","Gariyaband","Janjgir-Champa","Jashpur","Kabirdham (Kawardha)","Kanker (North Bastar)","Kondagaon","Korba","Korea (Koriya)","Mahasamund","Mungeli","Narayanpur","Raigarh","Raipur","Rajnandgaon","Sukma","Surajpur  ","Surguja"]},{state:"Dadra and Nagar Haveli (UT)",districts:["Dadra & Nagar Haveli"]},{state:"Daman and Diu (UT)",districts:["Daman","Diu"]},{state:"Delhi (NCT)",districts:["Central Delhi","East Delhi","New Delhi","North Delhi","North East  Delhi","North West  Delhi","Shahdara","South Delhi","South East Delhi","South West  Delhi","West Delhi"]},{state:"Goa",districts:["North Goa","South Goa"]},{state:"Gujarat",districts:["Ahmedabad","Amreli","Anand","Aravalli","Banaskantha (Palanpur)","Bharuch","Bhavnagar","Botad","Chhota Udepur","Dahod","Dangs (Ahwa)","Devbhoomi Dwarka","Gandhinagar","Gir Somnath","Jamnagar","Junagadh","Kachchh","Kheda (Nadiad)","Mahisagar","Mehsana","Morbi","Narmada (Rajpipla)","Navsari","Panchmahal (Godhra)","Patan","Porbandar","Rajkot","Sabarkantha (Himmatnagar)","Surat","Surendranagar","Tapi (Vyara)","Vadodara","Valsad"]},{state:"Haryana",districts:["Ambala","Bhiwani","Charkhi Dadri","Faridabad","Fatehabad","Gurgaon","Hisar","Jhajjar","Jind","Kaithal","Karnal","Kurukshetra","Mahendragarh","Mewat","Palwal","Panchkula","Panipat","Rewari","Rohtak","Sirsa","Sonipat","Yamunanagar"]},{state:"Himachal Pradesh",districts:["Bilaspur","Chamba","Hamirpur","Kangra","Kinnaur","Kullu","Lahaul &amp; Spiti","Mandi","Shimla","Sirmaur (Sirmour)","Solan","Una"]},{state:"Jammu and Kashmir",districts:["Anantnag","Bandipore","Baramulla","Budgam","Doda","Ganderbal","Jammu","Kargil","Kathua","Kishtwar","Kulgam","Kupwara","Leh","Poonch","Pulwama","Rajouri","Ramban","Reasi","Samba","Shopian","Srinagar","Udhampur"]},{state:"Jharkhand",districts:["Bokaro","Chatra","Deoghar","Dhanbad","Dumka","East Singhbhum","Garhwa","Giridih","Godda","Gumla","Hazaribag","Jamtara","Khunti","Koderma","Latehar","Lohardaga","Pakur","Palamu","Ramgarh","Ranchi","Sahibganj","Seraikela-Kharsawan","Simdega","West Singhbhum"]},{state:"Karnataka",districts:["Bagalkot","Ballari (Bellary)","Belagavi (Belgaum)","Bengaluru (Bangalore) Rural","Bengaluru (Bangalore) Urban","Bidar","Chamarajanagar","Chikballapur","Chikkamagaluru (Chikmagalur)","Chitradurga","Dakshina Kannada","Davangere","Dharwad","Gadag","Hassan","Haveri","Kalaburagi (Gulbarga)","Kodagu","Kolar","Koppal","Mandya","Mysuru (Mysore)","Raichur","Ramanagara","Shivamogga (Shimoga)","Tumakuru (Tumkur)","Udupi","Uttara Kannada (Karwar)","Vijayapura (Bijapur)","Yadgir"]},{state:"Kerala",districts:["Alappuzha","Ernakulam","Idukki","Kannur","Kasaragod","Kollam","Kottayam","Kozhikode","Malappuram","Palakkad","Pathanamthitta","Thiruvananthapuram","Thrissur","Wayanad"]},{state:"Lakshadweep (UT)",districts:["Agatti","Amini","Androth","Bithra","Chethlath","Kavaratti","Kadmath","Kalpeni","Kilthan","Minicoy"]},{state:"Madhya Pradesh",districts:["Agar Malwa","Alirajpur","Anuppur","Ashoknagar","Balaghat","Barwani","Betul","Bhind","Bhopal","Burhanpur","Chhatarpur","Chhindwara","Damoh","Datia","Dewas","Dhar","Dindori","Guna","Gwalior","Harda","Hoshangabad","Indore","Jabalpur","Jhabua","Katni","Khandwa","Khargone","Mandla","Mandsaur","Morena","Narsinghpur","Neemuch","Panna","Raisen","Rajgarh","Ratlam","Rewa","Sagar","Satna","Sehore","Seoni","Shahdol","Shajapur","Sheopur","Shivpuri","Sidhi","Singrauli","Tikamgarh","Ujjain","Umaria","Vidisha"]},{state:"Maharashtra",districts:["Ahmednagar","Akola","Amravati","Aurangabad","Beed","Bhandara","Buldhana","Chandrapur","Dhule","Gadchiroli","Gondia","Hingoli","Jalgaon","Jalna","Kolhapur","Latur","Mumbai City","Mumbai Suburban","Nagpur","Nanded","Nandurbar","Nashik","Osmanabad","Palghar","Parbhani","Pune","Raigad","Ratnagiri","Sangli","Satara","Sindhudurg","Solapur","Thane","Wardha","Washim","Yavatmal"]},{state:"Manipur",districts:["Bishnupur","Chandel","Churachandpur","Imphal East","Imphal West","Jiribam","Kakching","Kamjong","Kangpokpi","Noney","Pherzawl","Senapati","Tamenglong","Tengnoupal","Thoubal","Ukhrul"]},{state:"Meghalaya",districts:["East Garo Hills","East Jaintia Hills","East Khasi Hills","North Garo Hills","Ri Bhoi","South Garo Hills","South West Garo Hills ","South West Khasi Hills","West Garo Hills","West Jaintia Hills","West Khasi Hills"]},{state:"Mizoram",districts:["Aizawl","Champhai","Kolasib","Lawngtlai","Lunglei","Mamit","Saiha","Serchhip"]},{state:"Nagaland",districts:["Dimapur","Kiphire","Kohima","Longleng","Mokokchung","Mon","Peren","Phek","Tuensang","Wokha","Zunheboto"]},{state:"Odisha",districts:["Angul","Balangir","Balasore","Bargarh","Bhadrak","Boudh","Cuttack","Deogarh","Dhenkanal","Gajapati","Ganjam","Jagatsinghapur","Jajpur","Jharsuguda","Kalahandi","Kandhamal","Kendrapara","Kendujhar (Keonjhar)","Khordha","Koraput","Malkangiri","Mayurbhanj","Nabarangpur","Nayagarh","Nuapada","Puri","Rayagada","Sambalpur","Sonepur","Sundargarh"]},{state:"Puducherry (UT)",districts:["Karaikal","Mahe","Pondicherry","Yanam"]},{state:"Punjab",districts:["Amritsar","Barnala","Bathinda","Faridkot","Fatehgarh Sahib","Fazilka","Ferozepur","Gurdaspur","Hoshiarpur","Jalandhar","Kapurthala","Ludhiana","Mansa","Moga","Muktsar","Nawanshahr (Shahid Bhagat Singh Nagar)","Pathankot","Patiala","Rupnagar","Sahibzada Ajit Singh Nagar (Mohali)","Sangrur","Tarn Taran"]},{state:"Rajasthan",districts:["Ajmer","Alwar","Banswara","Baran","Barmer","Bharatpur","Bhilwara","Bikaner","Bundi","Chittorgarh","Churu","Dausa","Dholpur","Dungarpur","Hanumangarh","Jaipur","Jaisalmer","Jalore","Jhalawar","Jhunjhunu","Jodhpur","Karauli","Kota","Nagaur","Pali","Pratapgarh","Rajsamand","Sawai Madhopur","Sikar","Sirohi","Sri Ganganagar","Tonk","Udaipur"]},{state:"Sikkim",districts:["East Sikkim","North Sikkim","South Sikkim","West Sikkim"]},{state:"Tamil Nadu",districts:["Ariyalur","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Salem","Sivaganga","Thanjavur","Theni","Thoothukudi (Tuticorin)","Tiruchirappalli","Tirunelveli","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar"]},{state:"Telangana",districts:["Adilabad","Bhadradri Kothagudem","Hyderabad","Jagtial","Jangaon","Jayashankar Bhoopalpally","Jogulamba Gadwal","Kamareddy","Karimnagar","Khammam","Komaram Bheem Asifabad","Mahabubabad","Mahabubnagar","Mancherial","Medak","Medchal","Nagarkurnool","Nalgonda","Nirmal","Nizamabad","Peddapalli","Rajanna Sircilla","Rangareddy","Sangareddy","Siddipet","Suryapet","Vikarabad","Wanaparthy","Warangal (Rural)","Warangal (Urban)","Yadadri Bhuvanagiri"]},{state:"Tripura",districts:["Dhalai","Gomati","Khowai","North Tripura","Sepahijala","South Tripura","Unakoti","West Tripura"]},{state:"Uttarakhand",districts:["Almora","Bageshwar","Chamoli","Champawat","Dehradun","Haridwar","Nainital","Pauri Garhwal","Pithoragarh","Rudraprayag","Tehri Garhwal","Udham Singh Nagar","Uttarkashi"]},{state:"Uttar Pradesh",districts:["Agra","Aligarh","Allahabad","Ambedkar Nagar","Amethi (Chatrapati Sahuji Mahraj Nagar)","Amroha (J.P. Nagar)","Auraiya","Azamgarh","Baghpat","Bahraich","Ballia","Balrampur","Banda","Barabanki","Bareilly","Basti","Bhadohi","Bijnor","Budaun","Bulandshahr","Chandauli","Chitrakoot","Deoria","Etah","Etawah","Faizabad","Farrukhabad","Fatehpur","Firozabad","Gautam Buddha Nagar","Ghaziabad","Ghazipur","Gonda","Gorakhpur","Hamirpur","Hapur (Panchsheel Nagar)","Hardoi","Hathras","Jalaun","Jaunpur","Jhansi","Kannauj","Kanpur Dehat","Kanpur Nagar","Kanshiram Nagar (Kasganj)","Kaushambi","Kushinagar (Padrauna)","Lakhimpur - Kheri","Lalitpur","Lucknow","Maharajganj","Mahoba","Mainpuri","Mathura","Mau","Meerut","Mirzapur","Moradabad","Muzaffarnagar","Pilibhit","Pratapgarh","RaeBareli","Rampur","Saharanpur","Sambhal (Bhim Nagar)","Sant Kabir Nagar","Shahjahanpur","Shamali (Prabuddh Nagar)","Shravasti","Siddharth Nagar","Sitapur","Sonbhadra","Sultanpur","Unnao","Varanasi"]},{state:"West Bengal",districts:["Alipurduar","Bankura","Birbhum","Burdwan (Bardhaman)","Cooch Behar","Dakshin Dinajpur (South Dinajpur)","Darjeeling","Hooghly","Howrah","Jalpaiguri","Kalimpong","Kolkata","Malda","Murshidabad","Nadia","North 24 Parganas","Paschim Medinipur (West Medinipur)","Purba Medinipur (East Medinipur)","Purulia","South 24 Parganas","Uttar Dinajpur (North Dinajpur)"]}],A={states:ia},sa=({onClose:D})=>{const[m,M]=s.useState([]),[K,N]=s.useState([]),[_,v]=s.useState([]),[C,E]=s.useState([]),[l,o]=s.useState({dept_id:"",role_id:"",lang_id:"",emp_name:"",emp_email:"",emp_mobile:"",state:"",dist:"",city:"",hire_date:""}),[n,u]=s.useState({dept_id:"",role_id:"",lang_id:"",emp_name:"",emp_email:"",emp_mobile:"",state:"",dist:"",city:"",hire_date:""});s.useEffect(()=>{if(l.state){const i=A.states.find(e=>e.state===l.state);i&&(E(i.districts),o({...l,dist:""}))}},[l.state]);const B=(i,e)=>{let r="";const t=e&&typeof e=="string"?e.trim():e;switch(i){case"emp_name":t?/^[a-zA-Z\s]+$/.test(t)||(r="Employee Name must contain only letters and spaces"):r="Employee Name is Required";break;case"emp_email":t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(r="Invalid email format"):r="Employee Email is Required";break;case"emp_mobile":t?/^\d{10}$/.test(t)||(r="Phone number must be 10 digits"):r="Employee Mobile is Required";break;case"dept_id":t||(r="Department is Required");break;case"role_id":t||(r="Role is Required");break;case"lang_id":t||(r="Language is Required");break;case"state":t||(r="State is Required");break;case"dist":t||(r="District is Required");break;case"city":t||(r="City is Required");break;case"hire_date":t||(r="Hire Date is Required");break}return r},j=i=>{const{name:e,value:r}=i.target,t=B(e,r);o({...l,[e]:r}),u({...n,[e]:t})};s.useEffect(()=>{y.get(`${k.apiUrl}/department`).then(i=>{M(i.data),o({...l,role_id:""})}).catch(i=>{console.log("Error :",i)})},[]),s.useEffect(()=>{l.dept_id?y.get(`${k.apiUrl}/role/getRoleByDept?dept_id=${l.dept_id}`).then(i=>{N(i.data)}).catch(i=>{console.log("Error :",i)}):a.Fragment},[l.dept_id]),s.useEffect(()=>{y.get(`${k.apiUrl}/language`).then(i=>{v(i.data)}).catch(i=>{console.log("Error :",i)})});const x=async i=>{i.preventDefault();let e={};if(Object.keys(l).forEach(r=>{const t=l[r],c=B(r,t);c&&(e[r]=c)}),Object.keys(e).length>0){u(e);return}y.post(`${k.apiUrl}/employee/saveEmp`,l).then(r=>{console.log("Employee Data stored successfully."),D()}).catch(r=>{console.log("Error :",r)})};return a.jsxs("div",{children:[a.jsx("h1",{className:"text-center",children:"Add Employee"}),a.jsx("form",{onSubmit:x,children:a.jsxs(d,{container:!0,spacing:2,children:[a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_name",label:"Employee Name",value:l.emp_name,onChange:j,error:!!n.emp_name,helperText:n.emp_name})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_email",label:"Employee Email",value:l.emp_email,onChange:j,error:!!n.emp_email,helperText:n.emp_email})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_mobile",label:"Employee Mobile",type:"number",value:l.emp_mobile,onChange:j,error:!!n.emp_mobile,helperText:n.emp_mobile})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"dept_id",label:"Department",value:l.dept_id,onChange:j,error:!!n.dept_id,helperText:n.dept_id,children:m.map((i,e)=>a.jsx(S,{value:i.dept_id,children:i.dept_name},e))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"role_id",label:"Role",value:l.role_id,onChange:j,error:!!n.role_id,helperText:n.role_id,children:K.map((i,e)=>a.jsx(S,{value:i.role_id,children:i.role},e))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"lang_id",label:"Language",value:l.lang_id,onChange:j,error:!!n.lang_id,helperText:n.lang_id,children:_.map((i,e)=>a.jsx(S,{value:i.lang_id,children:i.language_name},e))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"state",label:"State",value:l.state,onChange:j,error:!!n.state,helperText:n.state,children:A.states.map((i,e)=>a.jsx(S,{value:i.state,children:i.state},e))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"dist",label:"District",value:l.dist,onChange:j,error:!!n.dist,helperText:n.dist,children:C.map((i,e)=>a.jsx(S,{value:i,children:i},e))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"city",label:"City",value:l.city,onChange:j,error:!!n.city,helperText:n.city})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"hire_date",label:"Hire date",type:"date",value:l.hire_date,onChange:j,error:!!n.hire_date,helperText:n.hire_date,InputLabelProps:{shrink:!0}})}),a.jsx(d,{item:!0,xs:12,display:"flex",justifyContent:"center",children:a.jsx(f,{onClick:x,children:"Submit"})})]})})]})},na=({onClose:D,data:m})=>{const[M,K]=s.useState([]),[N,_]=s.useState([]),[v,C]=s.useState([]),[E,l]=s.useState([]),[o,n]=s.useState({dept_id:m?m.dept_id:"",role_id:m?m.role_id:"",lang_id:m?m.lang_id:"",emp_name:m?m.emp_name:"",emp_email:m?m.emp_email:"",emp_mobile:m?m.emp_mobile:"",state:m?m.state:"",dist:m?m.dist:"",city:m?m.city:"",hire_date:m?m.hire_date:""}),[u,B]=s.useState({dept_id:"",role_id:"",lang_id:"",emp_name:"",emp_email:"",emp_mobile:"",state:"",dist:"",city:"",hire_date:""});s.useEffect(()=>{if(o.state){const e=A.states.find(r=>r.state===o.state);e&&(l(e.districts),n({...o,dist:""}))}},[o.state]);const j=(e,r)=>{let t="";const c=r&&typeof r=="string"?r.trim():r;switch(e){case"emp_name":c?/^[a-zA-Z\s]+$/.test(c)||(t="Employee Name must contain only letters and spaces"):t="Employee Name is Required";break;case"emp_email":c?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)||(t="Invalid email format"):t="Employee Email is Required";break;case"emp_mobile":c?/^\d{10}$/.test(c)||(t="Phone number must be 10 digits"):t="Employee Mobile is Required";break;case"dept_id":c||(t="Department is Required");break;case"role_id":c||(t="Role is Required");break;case"lang_id":c||(t="Language is Required");break;case"state":c||(t="State is Required");break;case"dist":c||(t="District is Required");break;case"city":c||(t="City is Required");break;case"hire_date":c||(t="Hire Date is Required");break}return t},x=e=>{const{name:r,value:t}=e.target,c=j(r,t);n({...o,[r]:t}),B({...u,[r]:c})};s.useEffect(()=>{y.get(`${k.apiUrl}/department`).then(e=>{K(e.data),n({...o,role_id:""})}).catch(e=>{console.log("Error :",e)})},[]),s.useEffect(()=>{y.get(`${k.apiUrl}/role/getRoleByDept?dept_id=${o.dept_id}`).then(e=>{_(e.data)}).catch(e=>{console.log("Error :",e)})},[o.dept_id]),s.useEffect(()=>{y.get(`${k.apiUrl}/language`).then(e=>{C(e.data)}).catch(e=>{console.log("Error :",e)})},[]);const i=async e=>{e.preventDefault();let r={};if(Object.keys(o).forEach(t=>{const c=o[t],P=j(t,c);P&&(r[t]=P)}),Object.keys(r).length>0){B(r);return}y.put(`${k.apiUrl}/employee/update/${m.emp_id}`,o).then(t=>{console.log("Employee Data updated successfully."),D()}).catch(t=>{console.log("Error :",t)})};return a.jsxs("div",{children:[a.jsx("h1",{className:"text-center",children:"Update Employee"}),a.jsxs(d,{container:!0,spacing:2,children:[a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_name",label:"Employee Name",value:o.emp_name,onChange:x,error:!!u.emp_name,helperText:u.emp_name})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_email",label:"Employee Email",value:o.emp_email,onChange:x,error:!!u.emp_email,helperText:u.emp_email})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"emp_mobile",label:"Employee Mobile",type:"number",value:o.emp_mobile,onChange:x,error:!!u.emp_mobile,helperText:u.emp_mobile})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"dept_id",label:"Department",value:o.dept_id,onChange:x,error:!!u.dept_id,helperText:u.dept_id,children:M.map((e,r)=>a.jsx(S,{value:e.dept_id,children:e.dept_name},r))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"role_id",label:"Role",value:o.role_id,onChange:x,error:!!u.role_id,helperText:u.role_id,children:N.map((e,r)=>a.jsx(S,{value:e.role_id,children:e.role},r))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"lang_id",label:"Language",value:o.lang_id,onChange:x,error:!!u.lang_id,helperText:u.lang_id,children:v.map((e,r)=>a.jsx(S,{value:e.lang_id,children:e.language_name},r))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"state",label:"State",value:o.state,onChange:x,error:!!u.state,helperText:u.state,children:A.states.map((e,r)=>a.jsx(S,{value:e.state,children:e.state},r))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{select:!0,fullWidth:!0,name:"dist",label:"District",value:o.dist,onChange:x,error:!!u.dist,helperText:u.dist,children:E.map((e,r)=>a.jsx(S,{value:e,children:e},r))})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"city",label:"City",value:o.city,onChange:x,error:!!u.city,helperText:u.city})}),a.jsx(d,{item:!0,xs:6,children:a.jsx(g,{fullWidth:!0,name:"hire_date",label:"Hire date",type:"date",value:o.hire_date,onChange:x,error:!!u.hire_date,helperText:u.hire_date,InputLabelProps:{shrink:!0}})}),a.jsx(d,{item:!0,xs:12,display:"flex",justifyContent:"center",children:a.jsx(f,{onClick:i,children:"Update"})})]})]})};function oa(){const[D,m]=s.useState([]),[M,K]=s.useState([]),[N,_]=s.useState(""),[v,C]=s.useState(!1),[E,l]=s.useState(!1),[o,n]=s.useState(!1),[u,B]=s.useState(null),[j,x]=s.useState(!1),[i,e]=s.useState(),[r,t]=s.useState(5),[c,P]=s.useState(1);s.useEffect(()=>{y.get(`${k.apiUrl}/employee/`).then(h=>{m(h.data),K(h.data)}).catch(h=>{const b=h.response?h.response.data.message:h.message;_(b),C(!0)})},[o,E,j]);const U=h=>{const b=D.find(T=>T.emp_id===h);b&&(e(b),x(!0))},H=h=>{B(h),n(!0)},J=()=>{y.delete(`${k.apiUrl}/employee/delete/${u}`).then(h=>{m(b=>b.filter(T=>T.emp_id!==u)),K(b=>b.filter(T=>T.emp_id!==u)),n(!1)}).catch(h=>{n(!1),C(!0),_("Error deleting data. Please try again later.")})},L=h=>{const b=parseInt(h.target.value,10);b==1?(t(D.length),P(1)):(t(b),P(1))},z=(c-1)*r,$=c*r,q=M.slice(z,$);return a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-center",children:"Employee Index"}),a.jsxs(d,{container:!0,spacing:2,className:"mt-2",children:[a.jsx(d,{item:!0,xs:3,sx:{display:"flex",justifyContent:"center",height:"50%"},children:a.jsx(f,{onClick:()=>l(!0),children:"Add New Employee"})}),a.jsx(d,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},children:a.jsx(ra,{data:D,setData:K})}),a.jsx(d,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center"},children:a.jsx(V,{children:a.jsxs(F,{value:r,onChange:L,children:[a.jsx(S,{value:5,children:"5 Per Page"}),a.jsx(S,{value:10,children:"10 Per Page"}),a.jsx(S,{value:15,children:"15 Per Page"}),a.jsx(S,{value:1,children:"All Per Page"})]})})})]}),a.jsx(I,{component:O,className:"mt-3",children:a.jsxs(Y,{children:[a.jsx(Z,{children:a.jsxs(G,{children:[a.jsx(p,{style:{fontWeight:"bold"},children:"S.no"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Name"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Email"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Mobile"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Language"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Department"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Role"}),a.jsx(p,{style:{fontWeight:"bold"},children:"State"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Date"}),a.jsx(p,{style:{fontWeight:"bold"},children:"District"}),a.jsx(p,{style:{fontWeight:"bold"},children:"City"}),a.jsx(p,{style:{fontWeight:"bold"},children:"Action"})]})}),a.jsx(X,{children:q.map((h,b)=>a.jsxs(G,{children:[a.jsx(p,{children:b+1}),a.jsx(p,{children:h.emp_name}),a.jsx(p,{children:h.emp_email}),a.jsx(p,{children:h.emp_mobile}),a.jsx(p,{children:h.language_name}),a.jsx(p,{children:h.dept_name}),a.jsx(p,{children:h.role}),a.jsx(p,{children:h.state}),a.jsx(p,{children:Q(new Date(h.created_at),"dd/MM/yyyy")})," ",a.jsx(p,{children:h.dist}),a.jsx(p,{children:h.city}),a.jsxs(p,{children:[a.jsx(f,{onClick:()=>U(h.emp_id),children:"Edit"}),a.jsx(f,{onClick:()=>H(h.emp_id),children:"Delete"})]})]},h.emp_id))})]})}),a.jsx(d,{container:!0,spacing:2,display:"flex",justifyContent:"center",className:"mt-4",children:a.jsx(aa,{spacing:2,children:a.jsx(ta,{count:Math.ceil(D.length/r),page:c,onChange:(h,b)=>P(b),size:"small",style:{cursor:"pointer","&:hover":{backgroundColor:"transparent"}}})})}),a.jsxs(R,{open:E,onClose:()=>l(!1),maxWidth:"lg",children:[a.jsx(w,{children:a.jsx(sa,{onClose:()=>l(!1)})}),a.jsx(W,{children:a.jsx(f,{onClick:()=>l(!1),children:"Close"})})]}),a.jsxs(R,{open:j,onClose:()=>x(!1),maxWidth:"lg",children:[a.jsx(w,{children:a.jsx(na,{data:i,onClose:()=>x(!1)})}),a.jsx(W,{children:a.jsx(f,{onClick:()=>x(!1),children:"Close"})})]}),a.jsxs(R,{open:v,onClose:()=>{C(!1),_("")},children:[a.jsx(ea,{className:"bg-danger text-center text-white",children:"Error"}),a.jsx(w,{children:a.jsx("h3",{children:N})}),a.jsx(W,{children:a.jsx(f,{onClick:()=>{C(!1),_("")},children:"Ok"})})]}),a.jsxs(R,{open:o,onClose:()=>n(!1),children:[a.jsx(w,{children:a.jsx("p",{children:"Are you sure you want to delete this employee data?"})}),a.jsxs(W,{children:[a.jsx(f,{onClick:J,style:{backgroundColor:"red",color:"white"},children:"Delete"}),a.jsx(f,{onClick:()=>n(!1),style:{backgroundColor:"green",color:"white"},children:"Cancel"})]})]})]})}export{oa as default};
